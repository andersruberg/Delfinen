<div id="calendar">
	<table>
		<thead>
			<tr>
				<td colspan="2">
					<form id="calendar-switch-date" method="post" action="<?=$this->url();?>">
						<select name="month">
						<?php foreach($this->calendar->getMonthNames() as $digit => $month) : ?>
							<?php echo $digit; echo $this->calendar->getDate()->getMonth(); ?>
							<option value="<?=$digit;?>" <?= ($digit == $this->calendar->getMonthDigit()) ? 'selected' : '';?>><?=$month;?></option>
						<?php endforeach; ?>
						</select>
						<select name="year">
						<?php foreach($this->calendar->getYearList() as $year) : ?>
							<option value="<?=$year;?>" <?= ($year == $this->calendar->getYearDigit()) ? 'selected' : '';?>><?=$year;?></option>
						<?php endforeach; ?>
						</select>
						<input type="submit" value="<?=$this->translate('calendar-submit');?>" />
					</form>
				</td>
				<td colspan="3" class="header">
					<?=$this->calendar->get(Zend_Date::MONTH_NAME);?> 
					<?=$this->calendar->get(Zend_Date::DAY);?>, 
					<?=$this->calendar->get(Zend_Date::YEAR);?>
				</td>
				<td>
					<div style="float: left; padding-left: 10px;">
						<a href="<?=$this->url(array('month' => $this->calendar->getPrevMonth(Zend_Date::MONTH_SHORT)));?>"><?=$this->calendar->getPrevMonth(Zend_Date::MONTH_NAME_SHORT);?></a>
					</div>
					<div style="float: right; padding-right: 10px">
						<a href="<?=$this->url(array('month' => $this->calendar->getNextMonth(Zend_Date::MONTH_SHORT)));?>"><?=$this->calendar->getNextMonth(Zend_Date::MONTH_NAME_SHORT);?></a>
					</div>	
				</td>
				<td>
					<div style="float: left; padding-left: 10px;">
						<a href="<?=$this->url(array('year' => $this->calendar->getPrevYear()));?>"><?=$this->calendar->getPrevYear();?></a>
					</div>
					<div style="float: right; padding-right: 10px">
						<a href="<?=$this->url(array('year' => $this->calendar->getNextYear()));?>"><?=$this->calendar->getNextYear();?></a>
					</div>
				</td>
			</tr>
			<tr>
			<?php foreach($this->calendar->getDayNames() as $day) : ?>
				<td><?=$day;?></td>	
			<?php endforeach; ?>
			</tr>
		</thead>
		<tbody>
			<?php foreach($this->calendar->getWeeks() as $week) : ?>
				<tr>
					<?php foreach($week as $day) : ?>
						<td>
							<span class="day"><?=$day->get(Zend_Date::DAY_SHORT);?></span>
							<?php foreach($day->getEvents() as $event) : ?>
								<div class="event">
									<a href="/user/event/view/id/<?=$event->getData('id');?>">
										<?=$event->getData('title');?>
									</a>
								</div>
							<?php endforeach;?>
						</td>
					<?php endforeach;?>
				</tr>
			<?php endforeach; ?>
		</tbody>
		<tfoot>
			<tr>
				<td colspan="7">
					Generated by <a href="http://www.spiffyjr.me">SpiffyCalendar</a> 
					for the <a href="http://framework.zend.com">Zend Framework</a>
				</td>
			</tr>
		</tfoot>
	</table>
</div>